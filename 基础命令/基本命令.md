# 一、基本命令

## 1.1 关机和重启

关机

​	shutdown -h now 	立刻关机

​	shutdown -h 5 		  5分钟后关机

​	poweroff					 立刻关机

重启

​	shutdown -r now		立刻重启

​	shutdown -r 5 			 5分钟后重启

​	reboot 						  立刻重启

## 1.2 帮助命令

--help命令

​	shutdown --help :

​	ifconfig --help : 查看网卡信息

man命令 （命令说明书）

​	man shutdown

​	注意：man shutdown打开命令说明书之后，使用按键q退出

# 二、目录操作命令

## 2.1 目录切换 cd

命令：cd 目录

cd /		切换到根目录

cd /usr 		切换到根目录下的usr目录

cd ../		切换到上一级目录 或者 cd..

cd~		 切换到home目录

cd -		 切换到上次访问的目录

## 2.2 目录查看 ls [-al]

命令：ls [-al]

ls		查看当前目录下的所有目录和文件

ls -a	查看当前目录下的所有目录和文件（包括隐藏的文件）

ls -l 或 ll 	列表查看当前目录下的所有目录和文件（列表查看，显示更多信息）

ls /dir	查看指定目录下的所有目录和文件 如：ls /uer

## 2.3 目录操作【增，删，改，查】

### 2.3.1 创建目录【增】 mkdir

命令：mkdir 目录

mkdir aaa	在当前目录下创建一个名为aaa的目录

mkdir /usr/aaa 	在指定目录下创建一个名为aaa的目录

### 2.3.2 删除目录或文件【删】 rm

命令：rm [-rf] 目录

删除文件：

rm 文件	删除当前目录下的文件

rm -f 文件	 删除当前目录下的文件（不询问）

删除目录：

rm -f aaa 	递归删除当前目录下的aaa目录

rm -rf aaa 	递归删除当前目录下的aaa目录（不询问）

全部删除：

rm -rf* 	将当前目录下的所有目录和文件全部删除

rm -rf /*	【自杀命令】将根目录下的所有文件全部删除

注意：rm不仅可以删除目录，也可以删除其他文件或压缩包，方便记忆无论删除任何目录或文件，都直接使用rm -rf 目录/文件/压缩包

### 2.33 目录修改【改】 mv 和 cp 

一、重命名目录

​	命令：mv 当前目录 新目录

​	例如：mv aaa bbb	 将目录aaa改为bbb

​	注意：mv的语法不仅可以对目录进行重命名而且也可以对各种文件，压缩包等进行 重命名的操作

二、剪切目录

​	命令：mv 目录名称 目录的新位置

​	示例：mv 将/usr/tmp目录下的aaa目录剪切到 /usr目录下面  mv /usr/tmp/aaa /usr

​	注意：mv语法不仅可以对目录进行剪切操作，对文件和压缩包等都可执行剪切操作

三、拷贝目录

​	命令：cp -r 目录名称 目录拷贝的目标位置 	-r代表递归

​	示例：将/usr/tmp目录下的aaa目录复制到 /usr 目录下面 	cp /usr/tmp/aaa /usr 

# 三、文件操作命令

## 3.1 创建文件 touch

命令：touch 文件名

touch a.txt		创建一个空文件a.txt（存在则更新时间戳）

touch 1.txt 2.txt	一次创建多个文件

## 3.2 查看文件内容 cat / more / less

cat命令（一次性输出）

cat a.txt		查看a.txt内容

cat -n a.txt		查看并显示行号

more命令（分页查看，空格下一页）

more a.txt

less命令（分页查看，更常用，可上下翻）

less a.txt		按q退出

## 3.3 查看文件头尾 head / tail

head命令（看前几行）

head a.txt		默认前10行

head -n 5 a.txt	看前5行

tail命令（看后几行）

tail a.txt		默认后10行

tail -n 5 a.txt	看后5行

tail -f a.log	实时追踪日志（常用看服务日志）

## 3.4 复制/移动/删除 文件 cp / mv / rm

复制文件

cp a.txt b.txt		复制a.txt为b.txt

cp a.txt /tmp/		复制到/tmp目录

移动/重命名文件（mv同理）

mv a.txt /tmp/		移动到/tmp

mv a.txt c.txt		重命名为c.txt

删除文件

rm a.txt			删除文件（会询问）

rm -f a.txt		强制删除（不询问）

## 3.5 搜索内容 grep

命令：grep “关键字” 文件

grep "error" a.log	在a.log中查找error

grep -n "error" a.log	显示匹配行号

grep -i "error" a.log	忽略大小写查找

## 3.6 查找文件 find

命令：find 目录 -name “文件名”

find / -name "a.txt"	从根目录查找a.txt（可能很慢）

find . -name "*.log"	在当前目录查找所有log文件

## 3.7 文件内容写入 echo / 重定向

echo命令

echo "hello"		输出hello

写入文件（覆盖）

echo "hello" > a.txt	把hello写入a.txt（覆盖原内容）

追加写入（不覆盖）

echo "world" >> a.txt	追加到a.txt末尾

# 四、权限与用户

## 4.1 查看权限 ls -l

命令：ls -l 或 ll

ll a.txt		查看文件权限、属主、属组等

## 4.2 修改权限 chmod

命令：chmod 权限 文件

chmod +x a.sh	给脚本增加可执行权限

chmod 777 a.txt	给所有人读写执行（不安全，仅学习/临时用）

常见：755（程序/目录）、644（普通文件）

## 4.3 修改属主/属组 chown

命令：chown 用户:组 文件

chown root:root a.txt	把a.txt属主属组改为root

（需要root权限，一般要sudo）

## 4.4 常用用户命令

whoami		查看当前用户

id			查看用户信息/组信息

passwd		修改当前用户密码（按提示输入）

su - root	切换到root（需要root密码）

sudo 命令	临时以管理员执行（常用）

# 五、进程与系统

## 5.1 查看进程 ps

ps -ef		查看所有进程（常用）

ps -ef | grep nginx	过滤查找nginx相关进程

## 5.2 动态查看 top

top			实时查看CPU/内存/进程（按q退出）

（更好用的还有htop，但不一定默认安装）

## 5.3 结束进程 kill

kill PID		结束进程（温和）

kill -9 PID	强制结束（慎用）

## 5.4 查看磁盘/内存 df / du / free

df -h		查看磁盘使用情况（h更好看）

du -sh 目录	查看某目录占用大小

free -h		查看内存使用情况

# 六、网络常用命令

## 6.1 查看IP ip / ifconfig

ip a			查看网卡与IP（更推荐）

ifconfig		查看网卡信息（有的系统需要安装net-tools）

## 6.2 测试网络 ping

ping 8.8.8.8	测试能否联网（Ctrl+C停止）

ping www.baidu.com	测试DNS是否正常

## 6.3 查看端口（基础常用）

ss -lntp		查看监听端口与进程（常用）

（老命令：netstat -lntp，可能需net-tools）

## 6.4 下载/访问 curl / wget

curl www.baidu.com	请求网页内容（常用排查接口）

wget URL			下载文件（有的系统未装）

# 七、压缩与打包（最常用）

## 7.1 tar 打包/解包（Linux最常见）

打包（生成.tar）

tar -cvf a.tar dir/	把dir打包成a.tar

解包（.tar）

tar -xvf a.tar		解包到当前目录

打包并压缩（.tar.gz）

tar -czvf a.tar.gz dir/

解压（.tar.gz）

tar -xzvf a.tar.gz

## 7.2 zip/unzip（有时会用到）

zip -r a.zip dir/	压缩成zip

unzip a.zip			解压zip

# 八、vim基本操作（入门够用版）

## 8.1 打开与退出

打开文件

vim a.txt

三种常用模式

普通模式（默认进入）		用来移动、删除、复制等

插入模式（编辑文字）		按 i / a / o 进入

命令行模式（保存退出）	按 Esc 再输入 :wq 这类命令

退出/保存（先按Esc）

:q		退出（未修改）

:q!	强制退出（不保存）

:w		保存

:wq	保存并退出

## 8.2 命令模式

说明：刚进入 vim 默认就是命令模式，用来移动光标、复制删除等（不能直接输入文字）

常用操作：

h j k l		左 下 上 右

gg			到文件首

G			到文件尾

0 / $		到行首 / 行尾

yy			复制当前行

dd			删除当前行

p			粘贴

u			撤销

## 8.3 插入模式

说明：输入文字的模式

进入方式（命令模式下）：

i			在光标前插入

a			在光标后插入

o			下一行新建并进入插入

退出方式：

Esc			回到命令模式

## 8.3 底行模式

说明：在屏幕最底下一行输入命令（保存、退出、设置等），以 : 开头

进入方式（命令模式下）：

:			进入底行模式（光标到最底部）

常用命令：

:w			保存

:q			退出

:wq			保存并退出

:q!		强制退出不保存

:set number	显示行号

:set nonumber	取消行号

退出方式：

执行完命令回到命令模式，或按 Esc 取消回到命令模式

/关键字		向下查找，比如：/error

n			下一个匹配

N			上一个匹配

（查找后按Esc继续正常操作）

## 8.4 替换模式

说明：输入会覆盖原来的字符（不是插入）

进入方式（命令模式下）：

R			连续替换（一直覆盖输入）

r			单字符替换（只替换当前光标的一个字符）

退出方式：

Esc			回到命令模式

## 8.5 V-BLOCK模式

说明：按“列块”选中，做批量列编辑（加前缀/对齐/删列）

进入方式（命令模式下）：

Ctrl + v

常用操作：

Ctrl+v 选块 -> d	删除块内容

Ctrl+v 选中多行某列 -> I -> 输入内容 -> Esc	批量插入到每行

Ctrl+v 选中多行某列 -> A -> 输入内容 -> Esc	批量追加到每行

退出方式：

Esc			回到命令模式

# 九、文件传输 rz / sz

## 9.1 rz 上传（从本地传到服务器）

命令：rz

rz			弹出选择文件窗口，选择本地文件上传到当前目录

rz -y		覆盖同名文件（不询问，部分环境支持）

常见用法：

cd /tmp
 rz			把本地文件上传到 /tmp 目录下

注意：rz/sz 基于 lrzsz 工具，没命令一般是没装：yum/apt 安装 lrzsz（只记结论：缺啥装啥）

## 9.2 sz 下载（从服务器传到本地）

命令：sz 文件名

sz a.txt		弹出保存窗口，把a.txt下载到本地

下载多个文件：

sz a.txt b.txt

下载目录（常用做法：先打包再sz）

tar -czvf dir.tar.gz dir/
 sz dir.tar.gz